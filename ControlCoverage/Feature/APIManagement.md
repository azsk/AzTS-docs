## API Management

| ControlId | Dependent Azure API(s) and Properties | Control spec-let |
|-----------|-------------------------------------|------------------|
| <b>ControlId:</b><br>#ControlId#<br><b>DisplayName:</b><br>#DisplayName#<br><b>Description: </b><br> #Description# | <b>ARM API to list #purpose# at subscription level: </b><br> #API# <br> #APIVersion# <br><b>Properties:</b><br>#Properties# | <b>Passed: </b><br>#Reason#<br><b>Failed: </b><br>#Reason#<br><b>Verify: </b><br>#Reason#<br><b>NotApplicable: </b><br>#Reason# |
| <b>ControlId:</b><br>Azure_APIManagement_AuthN_Disable_Management_API<br><b>DisplayName:</b><br>Do not use API Management REST API.<br><b>Description: </b><br> Do not use API Management REST API. | <b>ARM API to list APIMs and its related property at Subscription level: </b> <br> /subscriptions/{subscriptionId}/providers/Microsoft.ApiManagement/service?</br>api-version=2019-12-01</br><b>Properties:</b></br>sku <br><br> <b>ARM API to get tenant access information details without secrets:</b><br> /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/tenant/access?<br> api-version=2019-12-01<br><b>Properties:</b><br>enabled| <b>Passed: </b><br>'Enable Management REST API' option is turned OFF.<br><b>Failed: </b><br>'Enable Management REST API' option is turned ON.<br><b>Verify: </b><br> Management API setting could not be verified as the API Management service is connected to a Virtual Network. As a result, control plane traffic on port 3443 is denied. <br><b>NotApplicable: </b><br> This control does not apply to consumption tier.|
| <b>ControlId:</b><br>Azure_APIManagement_AuthN_Use_AAD_for_Client_AuthN<br><b>DisplayName:</b><br>Enterprise applications using APIM must authenticate developers/applications using Azure Active Directory backed credentials.<br><b>Description: </b><br> Enterprise applications using APIM must authenticate developers/applications using Azure Active Directory backed credentials. | <b> ARM API to list APIMs and its related property at Subscription level: </b> <br> /subscriptions/{subscriptionId}/providers/Microsoft.ApiManagement/service?<br>api-version=2019-12-01<br><b>Properties:</b><br>sku <br><br><b>ARM API to list collection of portalsettings defined within a service instance: <br> </b> /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/portalsettings?<br>api-version=2018-06-01-preview <br><b>Properties:</b><br> name: "signup" <br> properties/enabled <br><br> <b>ARM API to list collection of Identity Provider configured in the specified service instance:</b> <br> /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/identityProviders?<br>api-version=2019-12-01 <br><b>Properties:</b><br>properties/type | <b>Passed: </b><br> 1. AAD Identity provider is being used for authentication in developer portal. <br> 2. Sign-up/sign-in option has been entirely disabled. <br><br><b>Failed: </b><br>Identity provider other than AAD is being used for authentication in developer portal.<br><br><b>Verify: </b><br> Sign up option setting could not be verified as the API Management service is connected to a Virtual Network. As a result, control plane traffic on port 3443 is denied. <br><br><b>NotApplicable: </b><br> This control does not apply to consumption tier.|
| <b>ControlId:</b><br>Azure_APIManagement_DP_Use_Secure_TLS_Version<br><b>DisplayName:</b><br>Ensure that only the most secure and up to date version of TLS is enabled on the API gateway.<br><b>Description: </b><br> Ensure that only the most secure and up to date version of TLS is enabled on the API gateway. | <b>ARM API to list APIMs and its related property at Subscription level: </b> </br> /subscriptions/{subscriptionId}/providers/Microsoft.ApiManagement/service?api-version=2019-12-01 <br><b>Properties:</b><br> properties/customProperties <br> <b> Custom properties of the API Management service: </b> <br> 1. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168 <br> 2. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10 <br>3. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11 <br>4. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30 <br>5. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10 <br>6. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11 <br>7. Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30 | <b>Passed: </b><br>All old versions of protocols and ciphers configurations are disabled.<br><b>Failed: </b><br>Old versions of protocols and ciphers configurations are being used.|

<br>

<br> <b>

</b>


	






